<nav layout:fragment="sidebar" id="sidebar" class="bg-gray-800 text-white w-64 min-h-screen transition-all duration-300 ease-in-out overflow-hidden p-4">
    <!-- Header Sidebar -->
    <div class="flex justify-between items-center">
        <h1 id="sidebarTitle" class="text-xl font-bold transition-all duration-300">Quản lý KTX</h1>
        <button id="toggleBtn" class="text-white focus:outline-none">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
        </button>
    </div>

    <hr class="my-4 border-gray-600">

    <!-- Danh sách menu -->
    <ul class="space-y-2">
        <li>
            <a th:href="@{/manager/home}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">🏠</span>
                <span class="ml-3 sidebar-text">Trang chủ</span>
            </a>
        </li>
        <li>
            <a th:href="@{/manager/applications/pending-applications}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📋</span>
                <span class="ml-3 sidebar-text">Đơn chờ duyệt</span>
            </a>
        </li>
        <li>
            <a th:href="@{/approved-applications}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">✅</span>
                <span class="ml-3 sidebar-text">Đơn đã duyệt</span>
            </a>
        </li>
        <li>
            <a th:href="@{/manager/services}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">🛠</span>
                <span class="ml-3 sidebar-text">Danh sách dịch vụ</span>
            </a>
        </li>
        <li>
            <a th:href="@{/manager/services/add}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">➕</span>
                <span class="ml-3 sidebar-text">Thêm dịch vụ</span>
            </a>
        </li>
        <li>
            <a th:href="@{/bills/manager/filter}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">💳</span>
                <span class="ml-3 sidebar-text">Quản lý hóa đơn</span>
            </a>
        </li>
        <li>
            <a th:href="@{/billing-schedule/list}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📆</span>
                <span class="ml-3 sidebar-text">Lịch thanh toán tiền phòng</span>
            </a>
        </li>
        <li>
            <a th:href="@{/utility-billing-schedule/list}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">⚡</span>
                <span class="ml-3 sidebar-text">Lịch thanh toán điện nước</span>
            </a>
        </li>
        <li>
            <a th:href="@{/student-service-requests}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📌</span>
                <span class="ml-3 sidebar-text">Yêu cầu dịch vụ</span>
            </a>
        </li>
        <li>
            <a th:href="@{/approved-requests}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">✅</span>
                <span class="ml-3 sidebar-text">Ghi chỉ số dịch vụ cá nhân</span>
            </a>
        </li>

        <!-- Mới thêm -->
        <li>
            <a th:href="@{/rooms/list}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">🏢</span> <!-- Icon mới cho Danh sách phòng -->
                <span class="ml-3 sidebar-text">Danh sách phòng</span>
            </a>
        </li>

        <!-- Thêm phòng -->
        <li>
            <a th:href="@{/rooms/new}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">➕</span> <!-- Biểu tượng thêm phòng -->
                <span class="ml-3 sidebar-text">Thêm phòng</span>
            </a>
        </li>

        <li>
            <a th:href="@{/service-usage/record}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📝</span>
                <span class="ml-3 sidebar-text">Ghi số điện - nước</span>
            </a>
        </li>
        <li>
            <a th:href="@{/electricity-water-bill/list}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">ℹ️</span>
                <span class="ml-3 sidebar-text">Thông tin điện nước</span>
            </a>
        </li>
        <li>
            <a th:href="@{/service-usage/room/chart}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📊</span> <!-- Icon thay đổi để không trùng với các mục khác -->
                <span class="ml-3 sidebar-text">Thống kê điện nước</span>
            </a>
        </li>
        <li>
            <a th:href="@{/service-usage/personal/chart}" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">📊</span> <!-- Giữ icon thống kê dịch vụ cá nhân -->
                <span class="ml-3 sidebar-text">Thống kê dịch vụ cá nhân</span>
            </a>
        </li>
        <li>
            <form th:action="@{/logout}" method="post" class="flex items-center p-2 rounded hover:bg-gray-700">
                <span class="w-6 h-6 flex items-center justify-center">🚪</span>
                <button type="submit" class="ml-3 sidebar-text">Đăng xuất</button>
            </form>
        </li>
    </ul>
    <script>
        const sidebar = document.getElementById('sidebar');
        const sidebarText = document.querySelectorAll('.sidebar-text');
        const sidebarTitle = document.getElementById('sidebarTitle');
        const toggleBtn = document.getElementById('toggleBtn');

        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('w-64');
            sidebar.classList.toggle('w-16');
            sidebarTitle.classList.toggle('hidden');
            sidebarText.forEach(text => text.classList.toggle('hidden'));
        });
    </script>
</nav>
