<!-- src/main/resources/templates/manager/record_meter_reading.html-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/manager/layout}">
<head>
    <title layout:fragment="title">Ghi Số Điện và Nước</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div layout:fragment="content" class="mx-auto mt-4 max-w-lg">
    <h1 class="text-2xl font-bold mb-4">Ghi Số Điện và Nước cho Phòng</h1>

    <div th:if="${error}" class="mb-4">
        <div class="bg-red-500 text-white p-2 rounded" th:text="${error}"></div>
    </div>

    <form th:action="@{/service-usage/record}" method="post" class="space-y-4">
        <div>
            <label for="roomId" class="block text-gray-700 mb-1">Phòng</label>
            <select id="roomId" name="roomId" required class="w-full border border-gray-300 rounded px-3 py-2">
                <option value="">-- Chọn phòng --</option>
                <option th:each="room : ${rooms}" th:value="${room.roomId}" th:text="${room.roomNumber}"></option>
            </select>
        </div>

        <div>
            <label for="serviceId" class="block text-gray-700 mb-1">Dịch vụ</label>
            <select id="serviceId" name="serviceId" required class="w-full border border-gray-300 rounded px-3 py-2">
                <option value="">-- Chọn dịch vụ --</option>
                <option th:each="service : ${services}"
                        th:if="${service.serviceType == T(com.example.demo.entity.DormitoryService.ServiceType).ROOM}"
                        th:value="${service.serviceId}"
                        th:text="${service.serviceName}"></option>
            </select>
        </div>

        <div>
            <label for="currentReading" class="block text-gray-700 mb-1">Số đo hiện tại</label>
            <input type="number" step="0.01" id="currentReading" name="currentReading" required class="w-full border border-gray-300 rounded px-3 py-2">
        </div>

        <div>
            <label for="recordDate" class="block text-gray-700 mb-1">Ngày ghi số (yyyy-MM-dd)</label>
            <input type="date" id="recordDate" name="recordDate" required class="w-full border border-gray-300 rounded px-3 py-2">
        </div>

        <button type="submit" class="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
            Ghi Số
        </button>
    </form>
</div>
</body>
</html>
