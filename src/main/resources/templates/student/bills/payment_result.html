<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/student/layout}">

<head>
    <title layout:fragment="title">Kết quả thanh toán</title>
</head>

<body>
<div layout:fragment="content">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-2xl text-center">
        <h1 class="text-3xl font-bold text-green-700 mb-4">Kết quả thanh toán VNPay</h1>

        <!-- Thông báo -->
        <p class="text-lg text-gray-800 mb-6" th:text="${message}">Không có thông báo</p>

        <!-- Bảng thông tin -->
        <table class="table-auto w-full text-left mt-6">
            <tbody>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Mã giao dịch (VNPay):</th>
                <td th:text="${vnp_TransactionNo}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Mã đơn hàng:</th>
                <td th:text="${vnp_TxnRef}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Thông tin đơn hàng:</th>
                <td th:text="${vnp_OrderInfo}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Số tiền thanh toán:</th>
                <!-- Sửa lỗi: dùng overload 3 tham số -->
                <td th:text="${#numbers.formatDecimal(vnp_Amount, 0, 0) + ' ₫'}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Ngân hàng:</th>
                <td th:text="${vnp_BankCode}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Thời gian thanh toán:</th>
                <td th:text="${vnp_PayDate}">---</td>
            </tr>
            <tr>
                <th class="py-2 pr-4 text-gray-600">Trạng thái giao dịch:</th>
                <td th:text="${vnp_ResponseCode == '00' ? 'Thành công' : 'Thất bại'}"
                    th:classappend="${vnp_ResponseCode == '00' ? 'text-green-700 font-semibold' : 'text-red-600 font-semibold'}">---</td>
            </tr>
            </tbody>
        </table>

        <!-- Nút quay lại -->
        <a th:href="@{/bills/filter}"
           class="inline-block mt-6 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition">
            Quay lại danh sách hóa đơn
        </a>
    </div>
</div>
</body>
</html>
